<!DOCTYPE html>
<html lang="{{ language.language_code }}" class="min-h-full">
<script>
    // Apply dark mode immediately to prevent flash
    // Wrapped in try-catch for Safari Private Browsing where localStorage throws
    try {
        if (localStorage.getItem('darkMode') === 'true' ||
            (!localStorage.getItem('darkMode') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        }
    } catch (e) {
        // Fall back to system preference
        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
    }
</script>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <!-- Preconnect for faster loading -->
    <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Wordle">
    <meta name="theme-color" content="#ffffff">

    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon/favicon.ico') }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='favicon/apple-touch-icon.png') }}">
    <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">

    <title>Wordle {{ language.config.name_native }}/{{ language.config.name }}</title>
    <meta name="description" content="{{ language.config.meta.description }}">
    <meta property="description" content="{{ language.config.meta.description }}">
    <meta name="keywords" content="wordle, {{ language.config.name}}, {{ language.config.name_native }}">
    <meta property="og:title" content="Wordle {{ language.config.name_native }}/{{ language.config.name }}">
    <meta property="og:url" content="https://wordle.global/{{ language.config.language_code }}">
    <meta property="og:type" content="website">
    <meta property="og:description" content="{{ language.config.meta.description }}">
    <meta property="og:image" content="https://wordle.global/static/images/og-image.png">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="https://wordle.global">
    <meta property="twitter:title" content="Wordle {{ language.config.name_native }}/{{ language.config.name }}">
    <meta property="twitter:description" content="{{ language.config.meta.description }}">
    <meta property="twitter:image" content="https://wordle.global/static/images/og-image.png">
    
    <!-- Vite-built assets (Tailwind + Vue bundled) -->
    {% for css in vite_assets.css %}
    <link rel="stylesheet" href="{{ css }}">
    {% endfor %}

    <!-- Global site tag (gtag.js) - Google Analytics (deferred to not block game) -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        // Defer GA loading until after page is interactive
        window.addEventListener('load', function() {
            var script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-273H1MLL3T';
            script.async = true;
            document.head.appendChild(script);
            gtag('js', new Date());
            gtag('config', 'G-273H1MLL3T');
        });
    </script>

    <!-- load backend variables (on window for ES module access) -->
    <script>
        window.word_list = JSON.parse('{{language.word_list | tojson | safe}}');
        window.word_list_supplement = JSON.parse('{{language.word_list_supplement | tojson | safe}}');
        console.log('\nFor the language: ' + '"{{language.config.name_native}}/{{language.config.name}}"' + ' there are:\n' + window.word_list.length + ' words in the word list\n' + window.word_list_supplement.length + ' words in the supplemental word list.');
        window.characters = JSON.parse('{{language.characters | tojson | safe}}');
        window.config = JSON.parse('{{language.config | tojson | safe}}');
        console.log("Character Set: " + window.characters);
        window.todays_idx = "{{ language.todays_idx }}";
        window.todays_word = "{{ language.daily_word }}";
        console.log("Today's word is: " + window.todays_word.toUpperCase() + "\nDon't cheat!");
    </script>
</head>

<body class="min-h-[100dvh] h-[100dvh] overflow-hidden overscroll-none bg-white dark:bg-neutral-900 text-black dark:text-white transition-colors">
    <!-- Loading skeleton - shown immediately while JS loads -->
    <div id="loading-skeleton" class="flex flex-col items-center justify-center h-[100dvh]" style="font-family: system-ui, sans-serif;">
        <div style="font-size: 24px; font-weight: bold; letter-spacing: 2px; margin-bottom: 20px;">WORDLE</div>
        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 5px; width: 200px;">
            <div class="skeleton-tile" style="aspect-ratio: 1; border-radius: 2px; animation: pulse 1.5s ease-in-out infinite;"></div>
            <div class="skeleton-tile" style="aspect-ratio: 1; border-radius: 2px; animation: pulse 1.5s ease-in-out 0.1s infinite;"></div>
            <div class="skeleton-tile" style="aspect-ratio: 1; border-radius: 2px; animation: pulse 1.5s ease-in-out 0.2s infinite;"></div>
            <div class="skeleton-tile" style="aspect-ratio: 1; border-radius: 2px; animation: pulse 1.5s ease-in-out 0.3s infinite;"></div>
            <div class="skeleton-tile" style="aspect-ratio: 1; border-radius: 2px; animation: pulse 1.5s ease-in-out 0.4s infinite;"></div>
        </div>
        <style>
            @keyframes pulse {
                0%, 100% { opacity: 1; }
                50% { opacity: 0.4; }
            }
            .skeleton-tile { border: 2px solid #d3d6da; }
            .dark .skeleton-tile { border-color: #3a3a3c; }
        </style>
    </div>

    <div id="app" class="min-h-[100dvh] h-[100dvh]" style="display: none;">
        <div class="min-h-[100dvh] h-[100dvh]">
            <div class="wrapper container mx-auto flex flex-col h-full w-full max-w-lg safe-area-inset">
                <!-- The Header -->
                <header
                    class="relative flex flex-row justify-between items-center h-[50px] my-auto p-1 px-3 lg:px-1 border-b border-neutral-300 dark:border-neutral-600">
                    <button class="z-40 text-neutral-500" aria-label="instructions"
                        v-on:click="showHelpModal = !showHelpModal">
                        <svg xmlns="http://www.w3.org/2000/svg" class="text-neutral-500" width="24" height="24"
                            viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                            <circle cx="12" cy="12" r="9"></circle>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                            <polyline points="11 12 12 12 12 16 13 16"></polyline>
                        </svg>
                    </button>
                    <div class="absolute text-center right-0 left-0">
                        <h1 class="uppercase font-bold text-2xl sm:text-4xl tracking-wider"><a href="/">Wordle <span
                                    class="text-xl sm:text-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded px-1 py-0">
                                    {{ language.config.language_code }}</span></a></h1>
                        </h1>
                    </div>
                    <div class="flex flex-row gap-3 z-30">
                        <button class="m-0 sm:my-1" v-on:click="show_stats_modal = !show_stats_modal">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-neutral-500" width="24"
                                height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <rect x="3" y="12" width="6" height="8" rx="1"></rect>
                                <rect x="9" y="8" width="6" height="12" rx="1"></rect>
                                <rect x="15" y="4" width="6" height="16" rx="1"></rect>
                                <line x1="4" y1="20" x2="18" y2="20"></line>
                            </svg>
                        </button>
                        <button class="m-0 sm:my-1" v-on:click="show_options_modal = !show_options_modal">
                            <svg xmlns="http://www.w3.org/2000/svg" class="text-neutral-500" width="24" height="24"
                                viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path
                                    d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z">
                                </path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>
                </header>
                <!-- The game board -->
                <main class="flex flex-auto justify-center items-center">
                    <div
                        class="grid grid-rows-6 relative w-full h-full max-w-[350px] max-h-[420px] gap-1 p-3 box-border">
                        {% for i in range(6) %}
                        <div class="grid grid-cols-5 gap-1 w-full">
                            {% for j in range(5) %}
                            <div class="w-full h-full justify-center items-center inline-flex "
                                v-html="[[ tiles_visual[{{i}}][{{j}}] ]]"
                                v-bind:class="[[ tile_classes_visual[{{i}}][{{j}}] ]]">
                            </div>
                            {% endfor %}
                        </div>
                        {% endfor %}
                    </div>
                </main>
                <!-- The keyboard -->
                <div class="flex flex-col container mx-auto gap-2 w-full max-w-lg pb-2 md:pb-5 px-2">
                    {% for row in language.keyboard %}
                    <div class="flex gap-1">
                        {% for c in row %}
                        <button class="flex-1 rounded uppercase text-sm font-bold p-1 sm:p-2 h-14 key"
                            data-char="{{ c }}" aria-label="{{ c }}" v-on:click="keyClick('{{ c }}')"
                            v-bind:class="[[ key_classes['{{ c }}'] ]]">{{ c }}</button>
                        {% endfor %}
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- NOTIFICATIONS & MODALS-->
        <div class="container mx-auto flex w-full max-w-lg justify-center items-center overflow z-1" v-cloak>
            <div v-show="showHelpModal || show_stats_modal || show_options_modal"
                class="opacity-25 fixed top-0 left-0 w-full h-full z-1 bg-black" v-cloak></div>

            <!-- help modal -->
            <!-- <div v-if="showHelpModal" class="opacity-25 fixed top-0 left-0 w-full h-full z-1 bg-black"></div> -->
            <div id="HelpModal" v-show="showHelpModal"
                class="fixed top-10 left-0 w-full h-full z-50 items-center flex mx-auto " v-cloak>
                <div class="bg-white dark:bg-neutral-800 rounded-lg shadow-lg p-5 m-4 border-2 border-slate-200 dark:border-neutral-600 mx-auto w-full max-w-md sm:max-w-lg"
                    v-cloak>
                    <div class="flex flex-col gap-2 relative">

                        <button class="absolute top-0 right-0 p-1 ml-auto z-50">
                            <span v-on:click="showHelpModal = !showHelpModal"
                                class="leading-[0.25] h-5 w-5 text-3xl text-neutral-400 block outline-none focus:outline-none">×</span>
                        </button>
                        <h2 class="flex mx-auto uppercase font-bold text-2xl tracking-wider">Wordle <span
                                class="ml-1 text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-500">{{
                                language.config.name_native }}</span>
                        </h2>

                        <h3 class="font-bold text-lg">{{ language.config.help.title }}</h3>
                        <!-- how to play -->
                        <p class="text-sm">{{ language.config.help.text_1_1_1 }} <a
                                class="font-bold uppercase">Wordle</a> {{ language.config.help.text_1_1_2 }}</p>
                        <p class="text-sm">{{ language.config.help.text_1_2 }}</p>
                        <p class="text-sm">{{ language.config.help.text_1_3 }}</p>

                        <div class="border-t-2 border-gray-300 dark:border-gray-600"></div>
                        <div class="justify-center items-center flex flex-col gap-2">
                            <h2 class="text-md font-semibold text-gray-900 dark:text-gray-100">{{ language.config.help.title_2 }}</h2>

                            <div class="grid grid-cols-5 gap-1 w-full max-w-xs">
                                {% for c in language.word_list[0] %}
                                {% if loop.index == 1 %}
                                <div
                                    class="w-full h-full inline-flex justify-center items-center correct text-2xl tiny:text-4xl uppercase font-bold select-none text-white">
                                    {{c}}</div>
                                {% else %}
                                <div
                                    class="w-full h-full inline-flex aspect-square justify-center items-center text-2xl tiny:text-4xl uppercase font-bold select-none border-2 border-neutral-500">
                                    {{c}}</div>
                                {% endif %}
                                {% endfor %}
                            </div>
                            <p class="text-sm mb-2"><span
                                    class="font-bold uppercase">{{language.word_list[0][0]}}</span> {{
                                language.config.help.text_2_1 }}</p>
                            <!-- w-full h-full inline-flex justify-center items-center incorrect text-2xl tiny:text-4xl uppercase font-bold select-none text-white -->

                            <div class="grid grid-cols-5 gap-1 w-full max-w-xs">
                                {% for c in language.word_list[1] %}
                                {% if loop.index == 3 %}
                                <div
                                    class="w-full h-full inline-flex justify-center items-center semicorrect text-2xl tiny:text-4xl uppercase font-bold select-none text-white">
                                    {{c}}</div>
                                {% else %}
                                <div
                                    class="w-full h-full inline-flex aspect-square justify-center items-center text-2xl tiny:text-4xl uppercase font-bold select-none border-2 border-neutral-500">
                                    {{c}}</div>
                                {% endif %}
                                {% endfor %}
                            </div>
                            <p class="text-sm mb-2"><span
                                    class="font-bold uppercase">{{language.word_list[1][2]}}</span> {{
                                language.config.help.text_2_2 }}</p>

                            <div class="grid grid-cols-5 gap-1 w-full max-w-xs">
                                {% for c in language.word_list[2] %}
                                {% if loop.index == 5 %}
                                <div
                                    class="w-full h-full inline-flex justify-center items-center incorrect text-2xl tiny:text-4xl uppercase font-bold select-none text-white">
                                    {{c}}</div>
                                {% else %}
                                <div
                                    class="w-full h-full inline-flex aspect-square justify-center items-center text-2xl tiny:text-4xl uppercase font-bold select-none border-2 border-neutral-500">
                                    {{c}}</div>
                                {% endif %}
                                {% endfor %}
                            </div>
                            <p class="text-sm mb-2"><span
                                    class="font-bold uppercase">{{language.word_list[2][4]}}</span> {{
                                language.config.help.text_2_3 }}</p>
                        </div>

                        <div class="border-t-2 border-gray-300 dark:border-gray-600"></div>

                        <button class="uppercase font-bold text-sm tracking-wider"
                            v-on:click="showHelpModal = !showHelpModal">{{ language.config.help.close }}
                            <span class="text-lg text-neutral-400">×</span></button>
                    </div>
                </div>
            </div>

            <!-- options modal -->
            <div v-show="show_options_modal" class="fixed top-10 left-0 w-full h-full z-30 items-center mx-auto flex
            " v-cloak>
                <div class="bg-white dark:bg-neutral-800 rounded-lg shadow-lg p-5 m-4 border-2 border-slate-200 dark:border-neutral-600 mx-auto w-full max-w-xs sm:max-w-md"
                    v-cloak>
                    <div class="flex flex-col gap-2 relative">
                        <button class="absolute top-0 right-0 p-1 ml-auto z-50">
                            <span v-on:click="show_options_modal = !show_options_modal"
                                class="leading-[0.25] h-5 w-5 text-3xl text-neutral-400 block outline-none focus:outline-none">×</span>
                        </button>
                        <h3 class="uppercase font-bold text-xl tracking-wider mb-5">SETTINGS</h3>
                        <div class=" space-y-4">
                            <!-- Dark mode toggle -->
                            <div class="flex flex-row items-center">
                                <div class="flex-grow">
                                    <p>Dark Mode</p>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" v-model="darkMode" @change="toggleDarkMode" class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"></div>
                                </label>
                            </div>

                            <div class="border-t-2 border-gray-300 dark:border-gray-600"></div>
                            <!-- toggle button for right_to_left -->
                            <div class="flex flex-row">
                                <p class="flex-grow">Right to left</p>
                                <!-- toggle at the end -->
                                <div class="flex flex-row items-center">
                                    <label for="right_to_left" class="flex items-center ml-2 animate-bounce">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="text-neutral-500 mr-4" width="24"
                                            height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                            <path
                                                d="M12 15v3.586a1 1 0 0 1 -1.707 .707l-6.586 -6.586a1 1 0 0 1 0 -1.414l6.586 -6.586a1 1 0 0 1 1.707 .707v3.586h3v6h-3z">
                                            </path>
                                            <path d="M21 15v-6"></path>
                                            <path d="M18 15v-6"></path>
                                        </svg>
                                    </label>
                                    <input type="checkbox" id="right_to_left" v-model="right_to_left" />
                                </div>
                                <div class="flex-row gap-2">
                                    <button class="font-bold text-sm tracking-wider"
                                        v-on:click="right_to_left = !right_to_left">[[ config?.right_to_left_on
                                        ]]</button>
                                </div>
                            </div>

                            {% if language.keyboard_layouts|length > 1 %}
                            <div class="border-t-2 border-gray-300 dark:border-gray-600"></div>
                            <form method="get" class="flex flex-row items-center"
                                aria-label="Keyboard layout selector">
                                <p id="keyboard-layout-label" class="flex-grow">Keyboard layout</p>
                                <select id="keyboard-layout-select" name="layout" aria-labelledby="keyboard-layout-label"
                                    class="border border-neutral-300 dark:border-neutral-600 rounded px-2 py-1 bg-white dark:bg-neutral-700 dark:text-white"
                                    onchange="this.form.submit()">
                                    {% for layout_name, layout_meta in language.keyboard_layouts.items() %}
                                    <option value="{{ layout_name }}"
                                        {% if layout_name == language.keyboard_layout_name %}selected{% endif %}>
                                        {{ layout_meta.label }}
                                    </option>
                                    {% endfor %}
                                </select>
                            </form>
                            {% endif %}

                            <div class="border-t-2 border-gray-300 dark:border-gray-600"></div>
                            <div class="flex flex-row">
                                <p class="flex-grow">Allow any word (<span class="italic">easy mode</span>)</p>
                                <!-- toggle at the end -->
                                <input type="checkbox" v-model="allow_any_word" />
                            </div>


                            <div class="border-t-2 border-gray-300 dark:border-gray-600"></div>
                            <div class="flex">
                                <p class="flex-grow">Feedback & Bugs</p>
                                <a href="https://github.com/Hugo0/wordle/issues" class="underline text-neutral-500">GitHub issues</a>
                            </div>


                            <div class="border-t-2 border-gray-300 dark:border-gray-600"></div>
                            <div class="flex">
                                <p class="flex-grow">Source Code</p>
                                <a href="https://www.github.com/Hugo0/wordle" class="underline text-neutral-500">GitHub</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- stats modal -->
        <div v-show="show_stats_modal" class="fixed top-10 left-0 w-full h-full z-50 items-center flex" v-cloak>
            <div class="relative mx-auto w-full max-w-lg z-50 border-2 border-slate-200 dark:border-neutral-600 rounded-xl" v-cloak>
                <div
                    class="border-0 rounded-lg drop-shadow-xl relative flex flex-col w-full bg-white dark:bg-neutral-800 outline-none focus:outline-none">

                    <div class="flex-initial relative mx-5 mt-5 z-50">
                        <h3 class="flex-auto text-center text-xl font-bold">Wordle {{
                            language.config.name_native }}
                            #[[ todays_idx ]] [[attempts]]/6
                        </h3>
                        <button class="absolute top-0 right-0 p-1 ml-auto z-50">
                            <span v-on:click="show_stats_modal = !show_stats_modal"
                                class="leading-[0.25] h-5 w-5 text-3xl text-neutral-400 block outline-none focus:outline-none">×</span>
                        </button>
                    </div>

                    <div class="relative flex-auto mx-6 my-3">
                        <p class="text-md text-center whitespace-pre-line" id="emoji_board" v-html="emoji_board">
                        </p>
                        <p v-if="attempts=='0'" class="text-center text-sm text-gray-600 dark:text-gray-400">
                            {{ language.config.text.no_attempts }}
                        </p>
                    </div>

                    <!-- Guess Distribution Graph -->
                    <div class="px-6 py-3 border-t border-solid border-gray-200 dark:border-gray-600">
                        <h4 class="text-sm font-semibold uppercase tracking-wide mb-2 text-center">Guess Distribution</h4>
                        <div class="space-y-1">
                            <div v-for="n in 6" :key="n" class="flex items-center gap-2">
                                <span class="w-3 text-sm font-medium">[[ n ]]</span>
                                <div class="flex-1 h-5 bg-gray-100 dark:bg-neutral-700 rounded-sm overflow-hidden">
                                    <div
                                        class="h-full flex items-center justify-end px-1.5 text-xs font-bold text-white transition-all duration-300"
                                        :class="isCurrentGuess(n) ? 'bg-green-500' : 'bg-gray-400 dark:bg-gray-500'"
                                        :style="{ width: getDistributionBarWidth(n) + '%' }">
                                        <span v-if="stats.guessDistribution">[[ stats.guessDistribution[n] ]]</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="flex flex-col sm:flex-row gap-4 py-3 px-6 sm:gap-10 border-t border-solid border-gray-200 dark:border-gray-600">
                        <div class="flex flex-col w-full sm:w-1/2 items-center sm:border-r">
                            <p class="mt-2 uppercase font-semibold text-md whitespace-pre-line">{{
                                language.config.text.next_word }}</p>
                            <p class="m-2 text-3xl" v-html="this.time_until_next_day">
                        </div>
                        <!-- green share button -->
                        <div class="flex flex-col w-full sm:w-1/2 items-center">
                            <div class="flex flex-col items-center h-full w-full mx-auto p-1">
                                <button
                                    class="flex-auto w-full m-2 p-2 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-semibold rounded-lg shadow-lg transition-colors"
                                    v-on:click="shareResults">{{
                                    language.config.text.share }}
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="flex flex-row justify-center border-t border-solid border-gray-200 dark:border-gray-600 px-10 py-5">
                        <div class="flex flex-col text-center flex-grow">
                            <p class="text-3xl text-center">[[stats.n_games]]</p>
                            <p class="text-sm">Games</p>
                        </div>
                        <div class="flex flex-col text-center flex-grow">
                            <p class="text-3xl" v-html="stats.win_percentage.toLocaleString('en') + '%'"></p>
                            <p class="text-sm">Win %</p>
                        </div>
                        <div class="flex flex-col text-center flex-grow">
                            <p class="text-3xl">[[stats.current_streak]]</p>
                            <p class="text-sm">Current Streak</p>
                        </div>
                        <div class="flex flex-col text-center flex-grow">
                            <p class="text-3xl">[[stats.longest_streak]]</p>
                            <p class="text-sm">Best Streak</p>
                        </div>
                    </div>

                </div>
            </div>
        </div>


        <!-- alert that floats slowly down from top and closes after 3 seconds -->
        <div v-if="notification.show"
            class="fixed top-0 inset-x-0 mx-auto z-50 max-w-xs justify-items-center text-center" v-cloak>
            <div class="top-50 bg-black p-4 m-4 rounded-lg shadow-lg animate-pulse" v-cloak
                v-bind:style="{'top': notification.top + 'px'}">
                <p class="font-bold text-white">[[ notification.message ]]</p>
            </div>
        </div>
    </div>
    <!-- /app -->

    <!-- Simple banner to trigger the install dialog -->
    <div id="pwa-install-banner" class="pwa-install-banner" style="display: none;">
        <div style="flex: 1;">
            <strong>Add to Home Screen</strong>
            <div style="font-size: 13px; opacity: 0.9;">Play Wordle daily like an app</div>
        </div>
        <button onclick="triggerPwaInstall()">Install</button>
        <button class="dismiss" onclick="dismissPwaInstall()">&times;</button>
    </div>

    <!-- PWA Install Component (@khmyznikov/pwa-install) -->
    <!-- Provides cross-platform install dialogs with proper iOS/Android instructions -->
    <pwa-install
        manifest-url="/static/manifest.json"
        name="Wordle Global"
        description="Play Wordle in {{ language.config.name_native }}"
        install-description="Install for quick daily access"
    ></pwa-install>

    <!-- Vite-built JS (includes Vue, game logic, PWA) -->
    <script type="module" src="{{ vite_assets.js }}"></script>
</body>

</html>
